<!DOCTYPE html>
<html lang="vi">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>YOLO Detection System</title>
    <!-- CSS -->
    <link
      rel="stylesheet"
      href="{{ url_for('static', filename='style.css') }}"
    />
  </head>
  <body>
    <div class="container">
      <div class="header">
        <h1>Nh·∫≠n di·ªán tr√°i c√¢y v·ªõi YOLOv5 v√† YOLOv8</h1>
      </div>

      <div class="main-section">
        <!-- Input Type Selection -->
        <div class="input-type-tabs">
          <button class="input-tab active" onclick="switchInputType('image')">
            üì∑ ·∫¢nh
          </button>
          <button class="input-tab" onclick="switchInputType('video')">
            üé¨ Video
          </button>
          <button class="input-tab" onclick="switchInputType('camera')">
            üìπ Camera
          </button>
        </div>

        <!-- Image Input -->
        <div id="image-input" class="input-content active">
          <div
            class="upload-area"
            onclick="document.getElementById('imageInput').click()"
          >
            <div class="upload-icon">üì∏</div>
            <div class="upload-text">K√©o th·∫£ ho·∫∑c click ƒë·ªÉ ch·ªçn ·∫£nh</div>
            <div class="upload-subtext">H·ªó tr·ª£ JPG, PNG, GIF</div>
            <input
              type="file"
              id="imageInput"
              class="file-input"
              accept="image/*"
            />
          </div>

          <div class="model-selection">
            <h3>ü§ñ Ch·ªçn Model ƒë·ªÉ nh·∫≠n di·ªán:</h3>
            <div class="model-buttons">
              <button
                class="btn yolov5"
                id="processYolov5Btn"
                disabled
                onclick="processWithModel('yolov5')"
              >
                Nh·∫≠n di·ªán v·ªõi YOLOv5
              </button>
              <button
                class="btn yolov8"
                id="processYolov8Btn"
                disabled
                onclick="processWithModel('yolov8')"
              >
                Nh·∫≠n di·ªán v·ªõi YOLOv8
              </button>
            </div>
          </div>
        </div>

        <!-- Video Input -->
        <div id="video-input" class="input-content">
          <div
            class="upload-area"
            onclick="document.getElementById('videoInput').click()"
          >
            <div class="upload-icon">üé¨</div>
            <div class="upload-text">Ch·ªçn video ƒë·ªÉ nh·∫≠n di·ªán</div>
            <div class="upload-subtext"></div>
            <input
              type="file"
              id="videoInput"
              class="file-input"
              accept="video/*"
            />
          </div>

          <div class="model-selection">
            <h3>Ch·ªçn Model x·ª≠ l√Ω video:</h3>
            <div class="model-buttons">
              <button
                class="btn yolov5"
                id="videoYolov5Btn"
                disabled
                onclick="processVideo('yolov5')"
              >
                Nh·∫≠n di·ªán b·∫±ng YOLOv5
              </button>
              <button
                class="btn yolov8"
                id="videoYolov8Btn"
                disabled
                onclick="processVideo('yolov8')"
              >
                Nh·∫≠n di·ªán b·∫±ng YOLOv8
              </button>
            </div>
          </div>
        </div>

        <!-- Camera Input -->
        <div id="camera-input" class="input-content">
          <div class="camera-controls">
            <button
              class="btn success"
              id="startCameraBtn"
              onclick="startCamera()"
            >
              üìπ B·∫≠t Camera
            </button>
            <button
              class="btn danger"
              id="stopCameraBtn"
              disabled
              onclick="stopCamera()"
            >
              ‚èπÔ∏è T·∫Øt Camera
            </button>
          </div>

          <div class="model-selection">
            <h3>ü§ñ Ch·ªçn Model cho Camera:</h3>
            <div class="model-buttons">
              <button
                class="btn yolov5"
                id="cameraYolov5Btn"
                disabled
                onclick="startRealtimeDetection('yolov5')"
              >
                YOLOv5
              </button>
              <button
                class="btn yolov8"
                id="cameraYolov8Btn"
                disabled
                onclick="startRealtimeDetection('yolov8')"
              >
                YOLOv8
              </button>
              <button
                class="btn secondary"
                id="stopRealtimeBtn"
                disabled
                onclick="stopRealtimeDetection()"
              >
                ‚èπÔ∏è D·ª´ng nh·∫≠n di·ªán
              </button>
            </div>
          </div>
        </div>

        <!-- Loading -->
        <div class="loading" id="loading">
          <div class="loading-spinner"></div>
          <div class="loading-text" id="loadingText">ƒêang x·ª≠ l√Ω...</div>
        </div>

        <!-- Preview Section -->
        <div class="preview-section" id="previewSection" style="display: none">
          <div class="preview-card original">
            <h3>·∫¢nh/Video G·ªëc</h3>
            <div class="preview-content">
              <div id="originalPreview">
                <div class="preview-placeholder">Ch∆∞a c√≥ n·ªôi dung</div>
              </div>
            </div>
          </div>

          <div class="preview-card result">
            <h3 id="resultTitle">K·∫øt Qu·∫£ Nh·∫≠n Di·ªán</h3>
            <div class="preview-content">
              <div id="resultPreview">
                <div class="preview-placeholder">Ch·ªù x·ª≠ l√Ω...</div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- JS -->
    <script src="{{ url_for('static', filename='javas.js') }}"></script>
  </body>
</html>
